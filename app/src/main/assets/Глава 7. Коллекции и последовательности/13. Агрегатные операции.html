<html lang="ru"><head>





<link href="../style/css.css" rel="stylesheet"></head>
<body>
<div id="container">

<div class="outercontainer">
<div class="innercontainer">
 
   <div class="item center menC">
     <h2>Агрегатные операции</h2>
	

	<div style="margin-top:23px;margin-left:5px;">
		
		
		<!-- Yandex.RTB R-A-201190-1 -->
		
	</div>

	<p>Коллекции/последовательности поддерживают ряд агрегатных операций, которые возвращают некоторое значение.</p>
<h3>Минимальное и максимальное значение</h3>
<p>Функции <span class="b">minOrNull()</span> и <span class="b">maxOrNull()</span> возвращают соответственно минимальное и максимальное значение 
(если коллекция/последовательность пута, то возвращается null). 
Причем для работы этих функций элементы коллекции/последовательности должны реализовать интерфейс Comparable:</p>
<div><div id="highlighter_563995" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt keyword">val</code> <code class="kt plain">numbers = listOf(4, 6, 3, 5, 1, 2)</code></div><div class="line number2 index1 alt1"><code class="kt keyword">val</code> <code class="kt plain">people = listOf(</code><code class="kt string">"Alice"</code><code class="kt plain">, </code><code class="kt string">"Tom"</code><code class="kt plain">, </code><code class="kt string">"Sam"</code><code class="kt plain">, </code><code class="kt string">"Kate"</code><code class="kt plain">, </code><code class="kt string">"Bob"</code><code class="kt plain">)</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="kt plain">println(numbers.minOrNull())&nbsp;&nbsp; </code><code class="kt comments">// 1</code></div><div class="line number5 index4 alt2"><code class="kt plain">println(numbers.maxOrNull())&nbsp;&nbsp; </code><code class="kt comments">// 6</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="kt plain">println(people.minOrNull())&nbsp;&nbsp; </code><code class="kt comments">// Alice</code></div><div class="line number8 index7 alt1"><code class="kt plain">println(people.maxOrNull())&nbsp;&nbsp; </code><code class="kt comments">// Tom</code></div></div></td></tr></tbody></table></div></div>
<p>Функции <span class="b">minByOrNull()</span> и <span class="b">maxByOrNull()</span> в качестве параметра принимают функцию селектора, 
которая позволяет определить критерий сравнения объектов:</p>
<div><div id="highlighter_250731" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt keyword">fun</code> <code class="kt plain">main(){</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt keyword">val</code> <code class="kt plain">people = listOf( Person(</code><code class="kt string">"Tom"</code><code class="kt plain">, 37), Person(</code><code class="kt string">"Bob"</code><code class="kt plain">,41), Person(</code><code class="kt string">"Sam"</code><code class="kt plain">, 25))</code></div><div class="line number4 index3 alt1"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt comments">// минимальный возраст</code></div><div class="line number5 index4 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt keyword">val</code> <code class="kt plain">personWithMinAge = people.minByOrNull { it.age }</code></div><div class="line number6 index5 alt1"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt plain">println(personWithMinAge)&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="kt comments">// Sam (25)</code></div><div class="line number7 index6 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt comments">// максимальный возраст</code></div><div class="line number8 index7 alt1"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt keyword">val</code> <code class="kt plain">personWithMaxAge = people.maxByOrNull { it.age }</code></div><div class="line number9 index8 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt plain">println(personWithMaxAge)&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="kt comments">// Bob (41)</code></div><div class="line number10 index9 alt1"><code class="kt plain">}</code></div><div class="line number11 index10 alt2"><code class="kt keyword">class</code> <code class="kt plain">Person(</code><code class="kt keyword">val</code> <code class="kt plain">name: String, </code><code class="kt keyword">val</code> <code class="kt plain">age: Int){</code></div><div class="line number12 index11 alt1"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt keyword">override</code> <code class="kt keyword">fun</code> <code class="kt plain">toString(): String = </code><code class="kt string">"$name ($age)"</code></div><div class="line number13 index12 alt2"><code class="kt plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Выше функции находили элемент с наименьшим и наибольшим значением свойства age. Но что, если мы хотим получить не весь 
объект, а сами значения минимального и максимального возраста? В этом случае мы можем использовать функции 
<span class="b">minOfOrNull()</span> и <span class="b">maxOfOrNull()</span>, которые также принимают функцию селектора, но возвращает само значение, 
на основе которого происходит сравнение:</p>
<div><div id="highlighter_738145" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt keyword">fun</code> <code class="kt plain">main(){</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt keyword">val</code> <code class="kt plain">people = listOf( Person(</code><code class="kt string">"Tom"</code><code class="kt plain">, 37), Person(</code><code class="kt string">"Bob"</code><code class="kt plain">,41), Person(</code><code class="kt string">"Sam"</code><code class="kt plain">, 25))</code></div><div class="line number4 index3 alt1"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt comments">// минимальный возраст</code></div><div class="line number5 index4 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt keyword">val</code> <code class="kt plain">minAge = people.minOfOrNull { it.age }</code></div><div class="line number6 index5 alt1"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt plain">println(minAge)&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="kt comments">// 25</code></div><div class="line number7 index6 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt comments">// максимальный возраст</code></div><div class="line number8 index7 alt1"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt keyword">val</code> <code class="kt plain">maxAge = people.maxOfOrNull { it.age }</code></div><div class="line number9 index8 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt plain">println(maxAge)&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="kt comments">// 41</code></div><div class="line number10 index9 alt1"><code class="kt plain">}</code></div><div class="line number11 index10 alt2"><code class="kt keyword">class</code> <code class="kt plain">Person(</code><code class="kt keyword">val</code> <code class="kt plain">name: String, </code><code class="kt keyword">val</code> <code class="kt plain">age: Int){</code></div><div class="line number12 index11 alt1"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt keyword">override</code> <code class="kt keyword">fun</code> <code class="kt plain">toString(): String = </code><code class="kt string">"$name ($age)"</code></div><div class="line number13 index12 alt2"><code class="kt plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Еще пара функций - <span class="b">minWithOrNull()</span> и <span class="b">maxWithOrNull()</span> в качестве параметра принимают компаратор - 
реализацию интерфейса Comparator:</p>
<div><div id="highlighter_2946" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt keyword">val</code> <code class="kt plain">colors = listOf(</code><code class="kt string">"red"</code><code class="kt plain">, </code><code class="kt string">"green"</code><code class="kt plain">, </code><code class="kt string">"blue"</code><code class="kt plain">, </code><code class="kt string">"yellow"</code><code class="kt plain">)</code></div><div class="line number2 index1 alt1"><code class="kt keyword">val</code> <code class="kt plain">minColor = colors.minWithOrNull(compareBy {it.length})</code></div><div class="line number3 index2 alt2"><code class="kt keyword">val</code> <code class="kt plain">maxColor = colors.maxWithOrNull(compareBy {it.length})</code></div><div class="line number4 index3 alt1"><code class="kt plain">println(minColor)&nbsp;&nbsp; </code><code class="kt comments">// red</code></div><div class="line number5 index4 alt2"><code class="kt plain">println(maxColor)&nbsp;&nbsp; </code><code class="kt comments">// yellow</code></div></div></td></tr></tbody></table></div></div>
<p>В качестве критерия сравнения здесь применяется свойство length строк, то есть строки сравниваются по длине.</p>
<p>И еще одна пара функций - <span class="b">minOfWithOrNull()</span> и <span class="b">maxOfWithOrNull()</span> принимают реализацию 
интерфейса Comparator (первый параметр) и селектор критерия для сравнения (второй параметр):</p>
<div><div id="highlighter_639195" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt plain">maxOfWithOrNull(comparator: Comparator&lt;</code><code class="kt keyword">in</code> <code class="kt plain">R&gt;, selector: (T) -&gt; R): R?</code></div><div class="line number2 index1 alt1"><code class="kt plain">minOfWithOrNull(comparator: Comparator&lt;</code><code class="kt keyword">in</code> <code class="kt plain">R&gt;, selector: (T) -&gt; R): R?</code></div></div></td></tr></tbody></table></div></div>
<p>Применим данные функции:</p>
<div><div id="highlighter_310789" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt keyword">fun</code> <code class="kt plain">main(){</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt keyword">val</code> <code class="kt plain">people = listOf(</code></div><div class="line number4 index3 alt1"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt plain">Person(</code><code class="kt string">"Tom"</code><code class="kt plain">, 37), Person(</code><code class="kt string">"Kate"</code><code class="kt plain">,29),</code></div><div class="line number5 index4 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt plain">Person(</code><code class="kt string">"Sam"</code><code class="kt plain">, 25), Person(</code><code class="kt string">"Alice"</code><code class="kt plain">, 33)</code></div><div class="line number6 index5 alt1"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt plain">)</code></div><div class="line number7 index6 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt comments">// самое короткое имя</code></div><div class="line number8 index7 alt1"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt keyword">val</code> <code class="kt plain">minName = people.minOfWithOrNull(compareBy{it.length}) { it.name }</code></div><div class="line number9 index8 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt plain">println(minName)&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="kt comments">// Tom</code></div><div class="line number10 index9 alt1"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt comments">// самое длинное имя</code></div><div class="line number11 index10 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt keyword">val</code> <code class="kt plain">maxName = people.maxOfWithOrNull(compareBy{it.length}) { it.name }</code></div><div class="line number12 index11 alt1"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt plain">println(maxName)&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="kt comments">// Alice</code></div><div class="line number13 index12 alt2"><code class="kt plain">}</code></div><div class="line number14 index13 alt1"><code class="kt keyword">class</code> <code class="kt plain">Person(</code><code class="kt keyword">val</code> <code class="kt plain">name: String, </code><code class="kt keyword">val</code> <code class="kt plain">age: Int){</code></div><div class="line number15 index14 alt2"><code class="kt spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="kt keyword">override</code> <code class="kt keyword">fun</code> <code class="kt plain">toString(): String = </code><code class="kt string">"$name ($age)"</code></div><div class="line number16 index15 alt1"><code class="kt plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>В качестве критерия сравнения здесь применяется свойство name объектов Person, так как функция селектора определена следующим образом: <code>{ it.name }</code> (здесь <code>it</code> - это текущий объект Person)</p>
<p>Поскольку в качестве критерия сравнения применяется свойство name, то в функцию компаратора передается значение этого свойства. И собственно 
оно используется для сравнения объектов Person: <code>compareBy{it.length}</code> (здесь <code>it</code> - это значение свойства name)</p>
<h3>Среднее значение</h3>
<p>Для получения среднего значения применяется функция <span class="b">average()</span>:</p>
<div><div id="highlighter_489222" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt keyword">val</code> <code class="kt plain">numbers = listOf(4, 6, 3, 5, 1, 2)</code></div><div class="line number2 index1 alt1"><code class="kt keyword">val</code> <code class="kt plain">avg = numbers.average()</code></div><div class="line number3 index2 alt2"><code class="kt plain">println(avg)&nbsp;&nbsp;&nbsp; </code><code class="kt comments">// 3.5</code></div></div></td></tr></tbody></table></div></div>
<h3>Сумма значений</h3>
<p>Для получения суммы числовых значений применяется функция <span class="b">sum()</span>:</p>
<div><div id="highlighter_178587" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt keyword">val</code> <code class="kt plain">numbers = listOf(4, 6, 3, 5, 1, 2)</code></div><div class="line number2 index1 alt1"><code class="kt keyword">val</code> <code class="kt plain">sum = numbers.sum()</code></div><div class="line number3 index2 alt2"><code class="kt plain">println(sum)&nbsp;&nbsp;&nbsp; </code><code class="kt comments">// 21</code></div></div></td></tr></tbody></table></div></div>
<h3>Количество элементов</h3>
<p>Для получения количества элементов в коллекции/последовательности применяется функция <span class="b">count()</span>. Она имеет два варианта:</p>
<div><div id="highlighter_85663" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt plain">count(): Int</code></div><div class="line number2 index1 alt1"><code class="kt plain">count(predicate: (T) -&gt; Boolean): Int</code></div></div></td></tr></tbody></table></div></div>
<p>Первая версия возвращает количество всех элементов. Вторая версия возвращает количество элементов, которые соответствуют условию предиката, 
передаваемого в функцию в качестве параметра. Пример применения функций:</p>
<div><div id="highlighter_731667" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt keyword">val</code> <code class="kt plain">people = listOf(</code><code class="kt string">"Tom"</code><code class="kt plain">, </code><code class="kt string">"Sam"</code><code class="kt plain">, </code><code class="kt string">"Bob"</code><code class="kt plain">, </code><code class="kt string">"Kate"</code><code class="kt plain">, </code><code class="kt string">"Alice"</code><code class="kt plain">)</code></div><div class="line number2 index1 alt1"><code class="kt comments">// совокупное количество</code></div><div class="line number3 index2 alt2"><code class="kt keyword">val</code> <code class="kt plain">count1 = people.count()</code></div><div class="line number4 index3 alt1"><code class="kt plain">println(count1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="kt comments">// 5</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="kt comments">// количество строк, у которых длина равна 3</code></div><div class="line number7 index6 alt2"><code class="kt keyword">val</code> <code class="kt plain">count2 = people.count{it.length == 3}</code></div><div class="line number8 index7 alt1"><code class="kt plain">println(count2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="kt comments">// 3</code></div></div></td></tr></tbody></table></div></div>
<h3>Сведение элементов</h3>
<p>Функция <span class="b">reduce()</span> сводит все значения потока к одному значению:</p>
<div><div id="highlighter_259723" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt plain">educe(operation: (acc: S, T) -&gt; S): S</code></div></div></td></tr></tbody></table></div></div>
<p>reduce принимает функцию, которая имеет два параметра. Первый параметр при первом запуске представляет первый элемент, а при 
последующих запусках - результат функции над предыдущими элементами. А второй параметр функции - следующий элемент.</p>
<p>Например, у нас есть список чисел, найдем сумму всех чисел:</p>
<div><div id="highlighter_771280" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt keyword">val</code> <code class="kt plain">numbers = listOf(1, 2, 3, 4, 5)</code></div><div class="line number2 index1 alt1"><code class="kt keyword">val</code> <code class="kt plain">reducedValue = numbers.reduce{ a, b -&gt; a + b }</code></div><div class="line number3 index2 alt2"><code class="kt plain">println(reducedValue)&nbsp;&nbsp; </code><code class="kt comments">// 15</code></div></div></td></tr></tbody></table></div></div>
<p>Здесь при первом запуске в функции в reduce параметр a равен 1, а параметр b равен 2. 
При втором запуске параметр a содержит результат предыдущего выполнения функции, то если число 1 + 2 = 3, а параметр b равен 3 - следующее число в потоке.</p>
<p>Или другой пример со строками:</p>
<div><div id="highlighter_356259" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt keyword">val</code> <code class="kt plain">people = listOf(</code><code class="kt string">"Tom"</code><code class="kt plain">, </code><code class="kt string">"Bob"</code><code class="kt plain">, </code><code class="kt string">"Kate"</code><code class="kt plain">, </code><code class="kt string">"Sam"</code><code class="kt plain">, </code><code class="kt string">"Alice"</code><code class="kt plain">)</code></div><div class="line number2 index1 alt1"><code class="kt keyword">val</code> <code class="kt plain">reducedValue = people.reduce{ a, b -&gt; </code><code class="kt string">"$a $b"</code> <code class="kt plain">}</code></div><div class="line number3 index2 alt2"><code class="kt plain">println(reducedValue)&nbsp;&nbsp; </code><code class="kt comments">// Tom Bob Kate Sam Alice</code></div></div></td></tr></tbody></table></div></div>
<p>Здесь <code>reduce</code> соединяет все строки в одну.</p>
<p>Функция <span class="b">fold</span> также сводит все элементы потока в один. Но в отличие от <code>reduce</code> в качестве первого параметра принимает начальное значение:</p>
<div><div id="highlighter_788903" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt plain">fold(initial: R, operation: (acc: R, T) -&gt; R): R</code></div></div></td></tr></tbody></table></div></div>
<p>Например:</p>
<div><div id="highlighter_547815" class="syntaxhighlighter  kt"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="kt keyword">val</code> <code class="kt plain">people = listOf(</code><code class="kt string">"Tom"</code><code class="kt plain">, </code><code class="kt string">"Bob"</code><code class="kt plain">, </code><code class="kt string">"Kate"</code><code class="kt plain">, </code><code class="kt string">"Sam"</code><code class="kt plain">, </code><code class="kt string">"Alice"</code><code class="kt plain">)</code></div><div class="line number2 index1 alt1"><code class="kt keyword">val</code> <code class="kt plain">foldedValue = people.fold(</code><code class="kt string">"People:"</code><code class="kt plain">, { a, b -&gt; </code><code class="kt string">"$a $b"</code> <code class="kt plain">})</code></div><div class="line number3 index2 alt2"><code class="kt plain">println(foldedValue)&nbsp;&nbsp; </code><code class="kt comments">// People: Tom Bob Kate Sam Alice</code></div></div></td></tr></tbody></table></div></div>
<p>В данном случае начальным значением является строка "People:", к которой затем добавляются остальные элементы списка.</p>
	
	<div style="margin-top:25px;">

	
	</div>

	
	

	<div class="commentABl" style="clear:both;margin: 25px 5px 15px 5px;">
	
	
	
	</div>

	
	

  </div>

	
</div>

  
</div>


</div>














<div class="pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links ad-text adSense adBlock adContent adBanner" style="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"></div></body></html>